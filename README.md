# API Services MVP

–®–∞–±–ª–æ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ API —Å–µ—Ä–≤–∏—Å–∞–º–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
api-services/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ index.js              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤—ã–±–æ—Ä–æ–º API
‚îÇ   ‚îú‚îÄ‚îÄ shopify/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ Shopify Webhook
‚îÇ   ‚îú‚îÄ‚îÄ wayback/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ Wayback Machine
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ send-to-bitrix.js # API endpoint –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Bitrix
‚îÇ       ‚îú‚îÄ‚îÄ webhook/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ shopify.js    # Webhook endpoint –¥–ª—è Shopify
‚îÇ       ‚îî‚îÄ‚îÄ wayback/
‚îÇ           ‚îî‚îÄ‚îÄ index.js      # API endpoint –¥–ª—è Wayback Machine
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ adapters/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ shopify/      # –ê–¥–∞–ø—Ç–µ—Ä Shopify
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ wayback/      # –ê–¥–∞–ø—Ç–µ—Ä Wayback Machine
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApiCard.js        # –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shopify/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Shopify
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wayback/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Wayback Machine
‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ       ‚îî‚îÄ‚îÄ global.css        # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îî‚îÄ‚îÄ package.json
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
npm install
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:3000`

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ API

### üõçÔ∏è Shopify Webhook

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Shopify –¥–ª—è –ø—Ä–∏–µ–º–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook —Å–æ–±—ã—Ç–∏–π. –ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü–æ–ª—É—á–∞—Ç—å webhook —Å–æ–±—ã—Ç–∏—è –æ—Ç Shopify –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–æ–≤ (—Ç–æ–≤–∞—Ä—ã, —Ü–µ–Ω—ã, –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏)
- –í—ã–±–∏—Ä–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ Bitrix24

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –í—ã–±–µ—Ä–∏—Ç–µ "Shopify Webhook"
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook URL –≤ Shopify –Ω–∞: `https://your-domain.vercel.app/api/webhook/shopify`
4. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —á–µ–∫–±–æ–∫—Å–∞–º–∏
5. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Bitrix" –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

### üìö Wayback Machine

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Wayback Machine –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü–æ–∏—Å–∫ –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Å–Ω–∏–º–∫–æ–≤ —Å–∞–π—Ç–æ–≤ —á–µ—Ä–µ–∑ CDX API
- –ü–æ–ª—É—á–µ–Ω–∏–µ HTML –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–Ω–∏–º–∫–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –í—ã–±–µ—Ä–∏—Ç–µ "Wayback Machine"
3. –í–≤–µ–¥–∏—Ç–µ URL –∏–ª–∏ –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `example.com`)
4. –ù–∞–∂–º–∏—Ç–µ "Test Wayback Machine"

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ API

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π API:

1. **–°–æ–∑–¥–∞–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä** –≤ `src/lib/adapters/your-api/`:
   ```javascript
   // src/lib/adapters/your-api/index.js
   export class YourApiAdapter {
     getName() { return 'your-api'; }
     async yourMethod() { /* ... */ }
   }
   export const yourApiAdapter = new YourApiAdapter();
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ API endpoint** –≤ `pages/api/your-api/index.js`:
   ```javascript
   import { yourApiAdapter } from '../../../../src/lib/adapters/your-api/index.js';
   
   export default async function handler(req, res) {
     // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
   }
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –≤ `src/components/your-api/`:
   - –§–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –õ–æ–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

4. **–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** –≤ `pages/your-api/index.js`:
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

5. **–î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É** –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (`pages/index.js`):
   ```javascript
   {
     icon: 'üîå',
     title: 'Your API',
     description: '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ API',
     href: '/your-api',
     status: 'ready',
   }
   ```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **–ê–¥–∞–ø—Ç–µ—Ä—ã** - —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å API
- **API Endpoints** - Next.js API routes –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è UI
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã** - Next.js pages, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## –°—Ç–∏–ª–∏

–®–∞–±–ª–æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–º–Ω—É—é —Ç–µ–º—É –≤ —Å—Ç–∏–ª–µ `email-campaign-manager`. –í—Å–µ —Å—Ç–∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/styles/global.css`.

## Deploy

–®–∞–±–ª–æ–Ω –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Vercel. –§–∞–π–ª `vercel.json` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –≤ Shopify:**
1. –í –∞–¥–º–∏–Ω–∫–µ Shopify –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings > Notifications > Webhooks
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π webhook –¥–ª—è —Å–æ–±—ã—Ç–∏—è "Order creation"
3. URL: `https://your-vercel-app.vercel.app/api/webhook/shopify`
4. Format: JSON

## License

MIT

